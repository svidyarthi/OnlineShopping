<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Change Password</title>
</head>
<body>
<script src="http://code.jquery.com/jquery-2.0.3.js"> </script>
<script src="gen_validatorv4.js" type="text/javascript"></script>
<script type="text/javascript">
 var RecaptchaOptions = {
    theme : 'clean'
 };
 </script>
<script>	  
$(document).ready(function () {
		
	var url = window.location.href;
	
	var result = url.split('result=')[1];
	if(result==='done'){
		$("#message").html("<h4> Password changed successfully.");
		$("#message").append("<a href=\"LoginForm.html\">Login with your new password </a> </h4> <br> <br> ");
	}
	else if (result==='invalid'){
		$("#message").html("<h4> You have entered wrong existing password. Try again </h4>");
	}	
		
	
});
</script>
</head>
<body>
<div id="div" align="center"><a href="Welcome.html">Products Catalog</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="LoginForm.html">Logout</a><br>
<h3>Change Password</h3>
</div>


<form id="form1" action="REST/updatePassword" method="post" >
<div id="message" style="color:red; text-align:center"></div>
<table align="center">
<tr><td> Email Address: </td> <td><input id="email" name="email" type="text">*</td></tr>
<tr><td> Old Password: </td> <td><input id="password" name="password" type="password">*</td></tr>
<tr><td> New Password: </td> <td><input id="newpass" name="newpass" type="password">*</td></tr>
<tr><td> Confirm new password: </td> <td><input id="cnewpass" name="cnewpass" type="password">*</td></tr>
<tr><td colspan="2"></td></tr>
</table>
<br>
<div align="center">
 <script type="text/javascript"
     src="http://www.google.com/recaptcha/api/challenge?k=6LcD1eQSAAAAAIzBuKQ0Vl8xUIyTj2s4YkhyLFVM">
  </script>
  <noscript>
     <iframe src="http://www.google.com/recaptcha/api/noscript?k=6LcD1eQSAAAAAIzBuKQ0Vl8xUIyTj2s4YkhyLFVM"
         height="300" width="500"></iframe><br>
     <textarea name="recaptcha_challenge_field" rows="3" cols="40">
     </textarea>
     <input type="hidden" name="recaptcha_response_field"
         value="manual_challenge">
  </noscript>
<br>
<input type="submit" value="Submit">
</div>

</form>

<script type="text/javascript">
 var frmvalidator = new Validator("form1");
 frmvalidator.addValidation("password","req","Please enter your existing password");
 frmvalidator.addValidation("password","minlen=6","Please enter valid existing password with minimum 6 characters");
 frmvalidator.addValidation("newpass","minlen=6","Please enter new password with minimum 6 characters");
 frmvalidator.addValidation("newpass","req","Please enter your new password");
 frmvalidator.addValidation("cnewpass","eqelmnt=newpass","The confirmed password is not same as new password");
 frmvalidator.EnableMsgsTogether();

</script>

</body>
</html>